(new model m)
(add-rule m if '(?x p1 ?y) do (-> m '(?x p2 ?y)))
(add-stmt m '(x1 p1 y1))
(add-stmt m '(a p1 b))
(add-stmt m '(x2 p1 y2))
;=>m RU000 true true true

(setq ?bs-trace true)
;=>&?bs-trace

(back-search m '(a p2 b) explain)
;=>'('(a p2 b) ("RU000" '('(a p1 b))))
;out:
00000 O0000: create_root, stmt='(a p2 b), type=OR, status=INIT
00000 O0000: init begin, stmt='(a p2 b), type=OR, status=INIT
00000 O0000: has stmt, stmt='(a p2 b), rst=false
00000 O0000: add child, type=AND, name=A0001
00000 O0000: init end, rst=false, status=PROCESS, succ-child=null
00000 O0000: route to A0001
00001     A0001: init begin, stmt='(a p2 b), rule=RU000: RU000, action='(?0, p2, ?2)(0), type=AND, status=INIT
00001     A0001: add child, type=OR, name=O0002
00001     A0001: init end, rst=false, status=PROCESS, fail-child=null
00001     A0001: route to O0002
00002         O0002: init begin, stmt='(a p1 b), type=OR, status=INIT
00002         O0002: has stmt, stmt='(a p1 b), rst=true
00002         O0002: init end, rst=true, status=COMPLETE, succ-child=null
00003         O0002: complete begin
00003         O0002: has stmt, stmt='(a p1 b), rst=true
00003         O0002: complete end, rst=true
00003         O0002: route to A0001
00004     A0001: process begin
00004     A0001: process end, rst=true, status=COMPLETE, child=1/1, fail-child=null
00005     A0001: complete begin
00005     A0001: has stmt, stmt='(a p2 b), rst=true
00005     A0001: complete end, rst=true
00005     A0001: route to O0000
00006 O0000: process begin
00006 O0000: process end, rst=true, status=COMPLETE, child=1/1, succ-child=A0001
00007 O0000: has stmt, stmt='(a p2 b), rst=true
00007 O0000: complete end, rst=true

;eof

(list-stmt m)
;=>'('(a p1 b) '(x1 p1 y1) '(x2 p1 y2) '(a p2 b))

